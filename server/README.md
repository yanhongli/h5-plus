# 建站代理服务

建站代理服务用于将任意落地页代理到同域下,同时进行注入操作,方便前端进行轨迹还原.


## 目录简述

```bash
│  app.js #程序入口app
│  logger.js # 日志工具
│  README.md # 说明
│
├─logs #日志文件夹
└─services # 服务文件夹
        web-inject.js # web代理注入服务
```

## 架构简述

流程图如下:
![流程图](https://tuchuang001.com/images/2019/09/24/server.png)

### 代理任务

为了避免跨域操作的相关问题,需要将落地页代理到建站的域名之下.服务的主要任务体现在右侧两个生命周期中,需要抓取真实的落地页HTML,为了降低服务的风险,不抓取图片css,js等其他资源.所以需要修改当前HTML中的所有资源引用地址,需要统一为绝对地址,指向真实落地页的资源.

### 注入服务

后续在建站界面中需要在落地页复原用户的操作,实际上需要操作落地页的DOM元素,同时注入相关的代码工具.
