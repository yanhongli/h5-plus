(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84896dd8"],{"20d6":function(e,a,t){"use strict";var n=t("5ca1"),l=t("0a49")(6),s="findIndex",i=!0;s in[]&&Array(1)[s]((function(){i=!1})),n(n.P+n.F*i,"Array",{findIndex:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),t("9c6c")(s)},5747:function(e,a,t){},"798d":function(e,a,t){"use strict";var n=t("5747"),l=t.n(n);l.a},a5b5:function(e,a,t){"use strict";function n(){return{model:{value:"",label:"",error:""},list:[{label:"页面访问",value:"1"},{label:"拨打电话",value:"2"},{label:"表单提交",value:"3"},{label:"有效咨询",value:"4"},{label:"微信复制",value:"5"},{label:"应用下载",value:"6"},{label:"订单",value:"9"},{label:"购买",value:"7"},{label:"其它",value:"8"}]}}function l(){return{baseInfo:{completed:!1,eid:"",jt:{model:"0",list:[{value:"0",label:"JS部署"},{value:"1",label:"Xpath圈选"}]},convertName:{value:"",error:""},convertTypes:n(),landingPages:{model:{value:"",error:""},list:[]},landingPageUrl:"",dialog:{landingPage:{model:{title:"",url:{value:"",readonly:!1,error:""},name:{value:"",readonly:!1,error:""}},visible:!1},landingPageDel:{visible:!1,model:""}}},specInfo:{jsText:function(e){return'<script type="text/javascript">\r\n    (function (win) {\r\n      var ns = document.createElement("script");ns.type = "text/javascript";ns.async = true;\r\n      ns.id= "_nfe_sps";\r\n      ns.src = "//163h5.nos-jd.163yun.com/h5/libs/sps.js";\r\n      win["_nfe_pid"]="'.concat(e.pid,'";\r\n      win["_nfe_jt"]="').concat(e.jt,'";\r\n      win["_nfe_cc"] = "10000";\r\n      var f = document.getElementsByTagName("script")[0];\r\n      f.parentNode.insertBefore(ns,f);\r\n    })(window)\r\n  <\/script>\r\n')},cjsText:function(e,a,t){var n=JSON.stringify(e),l=JSON.stringify(a)||"{}";return"_nfe.convert(".concat(n,", ").concat(l,")//").concat(t)},website:"",screenShotUrl:"",convertTypes:n(),convertName:{value:"",error:""},flags:[],tags:[],xpathSaveCompleted:!1}}}t.d(a,"a",(function(){return l}))},abc0:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"main page-sdk-create"},[t("el-row",{staticClass:"gray f-12"},[e._v("为了方便您能充分收集页面转化数据，请您及时为您的界面创建监测事件")]),t("section",[t("el-row",{attrs:{type:"flex",align:"middle"}},[t("span",{staticClass:"row-badge",class:{disabled:e.baseInfo.completed}},[e._v("1")]),t("span",{staticClass:"f-16"},[e._v("设置基础信息")])]),t("el-card",[t("div",[t("el-row",{staticClass:"f-15"},[e._v("选择监测方式")]),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",{staticClass:"row-label"},[e._v("监测方式：")]),t("el-radio-group",{attrs:{size:"small",disabled:e.baseInfo.completed},model:{value:e.baseInfo.jt.model,callback:function(a){e.$set(e.baseInfo.jt,"model",a)},expression:"baseInfo.jt.model"}},e._l(e.baseInfo.jt.list,(function(a){return t("el-radio-button",{key:a.label,attrs:{label:a.value}},[e._v(e._s(a.label))])})),1)],1),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",[e._v("落地页信息")]),t("div",{staticClass:"gray f-12"},[e._v(" 请填写实际监测需要选择对应的落地页，以便按照落地页维度查看相关数据报表")])]),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",{staticClass:"row-label"},[e._v("落地页名称：")]),t("div",{staticClass:"el-input"},[t("el-select",{staticClass:"el-input",attrs:{placeholder:"请选择",size:"small",disabled:e.baseInfo.completed},on:{change:function(a){return e.landingPageChange()}},model:{value:e.baseInfo.landingPages.model.value,callback:function(a){e.$set(e.baseInfo.landingPages.model,"value",a)},expression:"baseInfo.landingPages.model.value"}},e._l(e.baseInfo.landingPages.list,(function(a){return t("el-option",{key:a.id,attrs:{label:a.name,value:a.id}},[t("el-row",{attrs:{type:"flex",justify:"space-between"}},[t("span",[e._v(e._s(a.name+"(ID："+a.id+")"))]),t("span",[t("i",{staticClass:"el-icon-edit mr-10",attrs:{title:"编辑"},on:{click:function(t){return e.landingPage(a)}}}),t("i",{staticClass:"el-icon-delete",attrs:{title:"删除"},on:{click:function(t){return e.landingPageDel(a)}}})])])],1)})),1),t("div",{staticClass:"validate-text"},[e._v(e._s(e.baseInfo.landingPages.model.error))])],1),e.baseInfo.completed?e._e():t("a",{staticClass:"light-blue",staticStyle:{"margin-left":"5px"},attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.landingPage()}}},[e._v("添加")])]),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",{staticClass:"row-label"},[e._v("落地页URL：")]),t("el-input",{attrs:{placeholder:"",size:"small",disabled:!0},model:{value:e.baseInfo.landingPageUrl,callback:function(a){e.$set(e.baseInfo,"landingPageUrl",a)},expression:"baseInfo.landingPageUrl"}})],1),"1"==e.baseInfo.jt.model?t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",{staticClass:"row-label"}),t("span",{staticClass:"gray f-12"},[e._v("该URL必须是手机端打开的最终地址，存在跳转的URL无法识别。")])]):e._e()],1),t("div",["0"==e.baseInfo.jt.model?[t("el-row",{staticClass:"f-15"},[e._v("设置转化信息")]),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",{staticClass:"row-label"},[e._v("转化名称：")]),t("div",{staticClass:"el-input"},[t("el-input",{staticClass:"input-show-count",attrs:{"show-word-limit":"",placeholder:"请使用不同的转化名称，以便区分不同的转化类型",size:"small",disabled:e.baseInfo.completed,maxlength:"50"},on:{blur:function(a){return e.convertNameValidate("baseInfo")}},model:{value:e.baseInfo.convertName.value,callback:function(a){e.$set(e.baseInfo.convertName,"value",a)},expression:"baseInfo.convertName.value"}}),t("div",{staticClass:"validate-text"},[e._v(e._s(e.baseInfo.convertName.error))])],1)]),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",{staticClass:"row-label"},[e._v("转化类型：")]),t("div",{staticClass:"el-input"},[t("el-select",{staticClass:"el-input",attrs:{placeholder:"请选择",size:"small",disabled:e.baseInfo.completed},on:{change:function(a){return e.convertTypesChange("baseInfo")}},model:{value:e.baseInfo.convertTypes.model.value,callback:function(a){e.$set(e.baseInfo.convertTypes.model,"value",a)},expression:"baseInfo.convertTypes.model.value"}},e._l(e.baseInfo.convertTypes.list,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("div",{staticClass:"validate-text"},[e._v(e._s(e.baseInfo.convertTypes.model.error))])],1)])]:e._e(),t("div",{attrs:{hidden:e.baseInfo.completed}},[t("el-button",{staticClass:"btn-n-width mr-50 ml-50",attrs:{type:"primary",size:"small"},on:{click:function(a){return e.submitBaseInfo()}}},[e._v("提交")]),t("router-link",{attrs:{"active-class":"active",to:"/sdk/event-list"}},[t("el-button",{staticClass:"btn-n-width",attrs:{size:"small"}},[e._v("取消")])],1)],1)],2)])],1),t("section",{staticStyle:{"margin-top":"20px"}},[t("el-row",{attrs:{type:"flex",align:"middle"}},[t("span",{staticClass:"row-badge",class:{disabled:!e.baseInfo.completed}},[e._v("2")]),t("span",{staticClass:"f-16"},[e._v(e._s("0"==e.baseInfo.jt.model?"获取JS代码":"圈选转化元素"))])]),e.baseInfo.completed?t("el-card",{staticStyle:{"padding-bottom":"50px",position:"relative","min-height":"600px"}},["0"==e.baseInfo.jt.model?[t("el-row",{attrs:{type:"flex"}},[t("span",{staticClass:"gray f-12"},[e._v("请按照如下要求在您的H5页面正确部署转化追踪代码，代码包含基础代码和转化代码两部分")])]),t("el-row",{attrs:{type:"flex"}},[t("span",[e._v("基础代码：请复制粘贴该代码与网页代码的<head>与</head>之间")])]),t("el-row",{attrs:{type:"flex"}},[t("pre",{staticClass:"gray code-container"},[e._v(e._s(e.jsText))])]),"1"!=e.baseInfo.convertTypes.model.value?[t("el-row",[t("span",[e._v("转化代码：请复制并粘贴该代码至转化行为中")])]),t("el-row",{attrs:{type:"flex"}},[t("pre",{staticClass:"gray code-container"},[e._v(e._s(e.cjsText))])])]:e._e(),t("el-row",[t("el-button",{staticClass:"btn-n-width ml-50 mr-50",attrs:{type:"primary",size:"small"},on:{click:function(a){return e.eMDownloadJS()}}},[e._v("下载代码")]),t("router-link",{attrs:{"active-class":"active",to:"/sdk/event-list"}},[t("el-button",{staticClass:"btn-n-width",staticStyle:{width:"146px"},attrs:{type:"primary",size:"small"}},[e._v("返回监测事件列表")])],1)],1)]:e._e(),"1"==e.baseInfo.jt.model?[t("div",{staticClass:"xpath"},[t("XPathSelector",{attrs:{flags:e.specInfo.flags,tags:e.specInfo.tags,url:e.specInfo.screenShotUrl,showTags:e.showXpathTags,disabled:e.specInfo.xpathSaveCompleted}})],1),t("el-row",{staticClass:"f-15"},[e._v("设置转化信息")]),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",{staticClass:"row-label"},[e._v("转化名称：")]),t("div",{staticClass:"el-input"},[t("el-input",{attrs:{"show-word-limit":"",placeholder:"请使用不同的转化名称，以便区分不同的转化类型",size:"small",maxlength:"50"},on:{blur:function(a){return e.convertNameValidate("specInfo")}},model:{value:e.specInfo.convertName.value,callback:function(a){e.$set(e.specInfo.convertName,"value",a)},expression:"specInfo.convertName.value"}}),t("div",{staticClass:"validate-text"},[e._v(e._s(e.specInfo.convertName.error))])],1)]),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("label",{staticClass:"row-label"},[e._v("转化类型：")]),t("div",{staticClass:"el-input"},[t("el-select",{staticClass:"el-input",attrs:{placeholder:"请选择",size:"small"},on:{change:function(a){return e.convertTypesChange("specInfo")}},model:{value:e.specInfo.convertTypes.model.value,callback:function(a){e.$set(e.specInfo.convertTypes.model,"value",a)},expression:"specInfo.convertTypes.model.value"}},e._l(e.specInfo.convertTypes.list,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("div",{staticClass:"validate-text"},[e._v(e._s(e.specInfo.convertTypes.model.error))])],1)]),t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showXpathTags,expression:"showXpathTags"}],attrs:{type:"flex"}},[t("label",{staticClass:"row-label"},[e._v("元素路径：")]),t("div",{staticStyle:{width:"600px","max-height":"300px",overflow:"auto"}},e._l(e.specInfo.flags,(function(a){return t("el-row",{key:a.xpath,attrs:{type:"flex",align:"middle"}},[t("el-input",{staticClass:"mr-10",attrs:{disabled:!0},model:{value:a.xpath,callback:function(t){e.$set(a,"xpath",t)},expression:"flag.xpath"}}),e.specInfo.xpathSaveCompleted?e._e():t("a",{staticClass:"xpath-del",on:{click:function(t){return e.delXpathItem(a.xpath)}}},[e._v("删除")])],1)})),1)]),e.specInfo.xpathSaveCompleted?t("el-row",[t("div",{staticClass:"gray f-12"},[t("i",{staticClass:"el-icon-warning"}),t("span",[e._v("每个落地页会有唯一的Xpath基础代码，请及时下载并完成部署")]),t("a",{staticClass:"light-blue",on:{click:function(a){return e.eMDownloadJS()}}},[e._v("下载基础代码")])])]):e._e(),t("el-row",[t("a",{staticClass:"light-blue",on:{click:function(a){return e.xpathGoback()}}},[e._v("返回上一步")]),t("router-link",{staticStyle:{"margin-left":"30px"},attrs:{"active-class":"active",to:"/sdk/event-list"}},[t("el-button",{staticClass:"btn-n-width",staticStyle:{width:"146px"},attrs:{type:"primary",size:"small"}},[e._v("返回监测事件列表")])],1),e.specInfo.xpathSaveCompleted?e._e():t("el-button",{staticStyle:{margin:"0 30px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return e.submitSpecInfo()}}},[e._v("保存")])],1)]:e._e()],2):e._e()],1),t("el-dialog",{attrs:{width:"30%",visible:e.baseInfo.dialog.landingPage.visible,center:"",title:e.baseInfo.dialog.landingPage.model.title,"custom-class":"mw-600"},on:{"update:visible":function(a){return e.$set(e.baseInfo.dialog.landingPage,"visible",a)}}},[t("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[t("el-col",{attrs:{span:5}},[t("label",[e._v("落地页名称：")])]),t("el-col",[t("el-input",{staticClass:"input-show-count",attrs:{placeholder:"请输入落地页名称",disabled:e.baseInfo.dialog.landingPage.model.name.readonly,"show-word-limit":"",maxlength:"50"},on:{blur:function(a){return e.landingPageNameValidate()}},model:{value:e.baseInfo.dialog.landingPage.model.name.value,callback:function(a){e.$set(e.baseInfo.dialog.landingPage.model.name,"value",a)},expression:"baseInfo.dialog.landingPage.model.name.value"}}),t("div",{staticClass:"validate-text"},[e._v(e._s(e.baseInfo.dialog.landingPage.model.name.error))])],1)],1),t("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[t("el-col",{attrs:{span:5}},[t("label",[e._v("落地页URL：")])]),t("el-col",[t("el-input",{staticClass:" input-show-count-2",attrs:{"show-word-limit":"",placeholder:"请输入落地页URL",disabled:e.baseInfo.dialog.landingPage.model.url.readonly,maxlength:"2048"},on:{blur:function(a){return e.landingPageUrlValidate()}},model:{value:e.baseInfo.dialog.landingPage.model.url.value,callback:function(a){e.$set(e.baseInfo.dialog.landingPage.model.url,"value",a)},expression:"baseInfo.dialog.landingPage.model.url.value"}}),t("div",{staticClass:"validate-text"},[e._v(e._s(e.baseInfo.dialog.landingPage.model.url.error))])],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"btn-n-width mr-20",on:{click:function(a){e.baseInfo.dialog.landingPage.visible=!1}}},[e._v("取 消")]),t("el-button",{staticClass:"btn-n-width",attrs:{type:"primary"},on:{click:function(a){return e.landingPageOk()}}},[e._v("保 存")])],1)],1),t("el-dialog",{attrs:{width:"30%",visible:e.baseInfo.dialog.landingPageDel.visible,center:"",title:"删除落地页"},on:{"update:visible":function(a){return e.$set(e.baseInfo.dialog.landingPageDel,"visible",a)}}},[t("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[t("span",{staticClass:"body-warning"}),t("span",[e._v("确定删除此落地页?")])]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.baseInfo.dialog.landingPageDel.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.landingPageDelOk()}}},[e._v("确 定")])],1)],1)],1)},l=[],s=(t("8e6e"),t("ac6a"),t("456d"),t("3846"),t("7514"),t("75fc")),i=(t("20d6"),t("96cf"),t("3b8d")),o=(t("7f7f"),t("bd86")),r=t("a5b5"),c=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"xpath-selector"},[t("div",{staticClass:"img-target-container"},[e.url?e._e():[t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"页面渲染预计需要3-5分钟，请耐心等待","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 1)"}})],e.url?[e._l(e.flags,(function(a,n){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showTags,expression:"showTags"}],key:a.xpath,staticClass:"flag",style:a.style},[e._v("元素"+e._s(n+1))])})),t("img",{staticClass:"img-target",attrs:{width:e.imgWidth,src:e.url},on:{click:e.imgTargetClick}})]:e._e()],2)])},d=[],u=t("23ae"),f={props:["url","flags","tags","showTags","disabled"],data:function(){return{imgWidth:211,imgActuralWidth:375,scaleX:.563}},methods:{imgTargetClick:function(e){if(!this.disabled){var a=e.offsetX,t=e.offsetY,n=this.hitDectect(a,t),l={left:n.left*this.scaleX+"px",top:n.top*this.scaleX+"px",width:n.width*this.scaleX+"px",height:n.height*this.scaleX+"px"};this.flags.push({style:l,xpath:n.xpath})}},hitDectect:function(e,a){var t=this,n=this.tags.filter((function(n){return n.left*t.scaleX<e&&e<(n.left+n.width)*t.scaleX&&n.top*t.scaleX<a&&a<(n.top+n.height)*t.scaleX})),l=n[n.length-1];return l}}},g=f,v=(t("e9ea"),t("2877")),p=Object(v["a"])(g,c,d,!1,null,"81ca75a6",null),b=p.exports;function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(t,!0).forEach((function(a){Object(o["a"])(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var I={components:{XPathSelector:b},data:function(){return h({},Object(r["a"])())},computed:{showXpathTags:function(){return 1!=this.specInfo.convertTypes.model.value},jsText:function(){return this.specInfo.jsText({pid:this.baseInfo.landingPages.model.value,jt:this.baseInfo.jt.model})},cjsText:function(){return this.specInfo.cjsText({id:this.baseInfo.eid,tid:this.baseInfo.convertTypes.model.value},"",this.baseInfo.convertTypes.model.label)}},methods:{landingPage:function(e){var a="新建落地页",t="",n={value:"",readonly:!1,error:""},l={value:"",readonly:!1,error:""},s=this.baseInfo.dialog.landingPage.model;e&&(a="修改落地页",n.value=e.name,l.value=e.url,t=e.id,l.readonly=!0),Object.assign(s,{title:a,name:n,url:l,id:t}),this.baseInfo.dialog.landingPage.visible=!0},landingPageNameValidate:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var a,t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("check"),a=this.baseInfo.dialog.landingPage.model,0!==a.name.value.length){e.next=6;break}a.name.error="落地页名称不能为空",e.next=14;break;case 6:if(!(a.name.value.length>50)){e.next=10;break}a.name.error="最多支持50个字段长度",e.next=14;break;case 10:return e.next=12,Object(u["cb"])(a.name.value);case 12:t=e.sent,a.name.error=t?"落地页名称已存在":"";case 14:case"end":return e.stop()}}),e,this)})));function a(){return e.apply(this,arguments)}return a}(),landingPageUrlValidate:function(){var e=this.baseInfo.dialog.landingPage.model;0===e.url.value.length?e.url.error="落地页URL不能为空":/^(https?:)?\/\/(\w+\.){1,}\w+/.test(e.url.value)?e.url.error="":e.url.error="请输入正确的URL地址"},landingPageOk:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var a,t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.baseInfo.dialog.landingPage.model,e.next=3,this.landingPageNameValidate();case 3:if(this.landingPageUrlValidate(),!a.name.error&&!a.url.error){e.next=6;break}return e.abrupt("return");case 6:if(!a.id){e.next=9;break}return Object(u["x"])({id:a.id,name:a.name.value,url:a.url.value}).then((function(){t.baseInfo.dialog.landingPage.visible=!1,t.$message({message:"落地页修改成功",type:"success"});var e=t.baseInfo.landingPages.list.findIndex((function(e){return e.id==a.id}));e>-1&&(Object.assign(t.baseInfo.landingPages.list[e],{name:a.name.value,url:a.url.value}),t.landingPageChange())})),e.abrupt("return");case 9:Object(u["u"])({url:a.url.value,name:a.name.value}).then((function(e){t.baseInfo.dialog.landingPage.visible=!1,t.$message({message:"落地页创建成功",type:"success"}),Object(u["w"])().then((function(e){var a;t.baseInfo.landingPages.list.length=0,(a=t.baseInfo.landingPages.list).push.apply(a,Object(s["a"])(e))}))})).finally((function(e){t.$store.dispatch("getLandingPages")}));case 10:case"end":return e.stop()}}),e,this)})));function a(){return e.apply(this,arguments)}return a}(),landingPageDelOk:function(){var e=this,a=this.baseInfo.dialog.landingPageDel.model;this.baseInfo.dialog.landingPageDel.visible=!1,Object(u["v"])({id:a.id}).then((function(){var t=e.baseInfo.landingPages.list.findIndex((function(e){return e==a}));t>-1?(e.baseInfo.landingPages.model.value===a.id&&(e.baseInfo.landingPages.model.value=null),e.baseInfo.landingPages.list.splice(t,1)):e.baseInfo.landingPageUrl="",e.$message({message:"落地页删除成功",type:"success"})})).catch((function(a){e.$message({message:a.message})})).finally((function(a){e.$store.dispatch("getLandingPages")}))},landingPageDel:function(e){e.deleteFlag?(this.baseInfo.dialog.landingPageDel.visible=!0,this.baseInfo.dialog.landingPageDel.model=e):this.$message({message:"落地页已经被监控事件使用，不能删除"})},landingPageChange:function(){var e=this.baseInfo.landingPages,a=e.list.findIndex((function(a){return a.id==e.model.value}));this.baseInfo.landingPageUrl=a>-1?e.list[a].url:"",this.landingPagesModelValidate()},landingPagesModelValidate:function(){this.baseInfo.landingPages.model.value?this.baseInfo.landingPages.model.error="":this.baseInfo.landingPages.model.error="请选择落地页"},convertNameValidate:function(e){0==this[e].convertName.value.length?this[e].convertName.error="请填写转化名称":this[e].convertName.error=""},convertTypesValidate:function(e){0==this[e].convertTypes.model.value.length?this[e].convertTypes.model.error="请选择转化类型":this[e].convertTypes.model.error=""},sreenShot:function(){var e=this;Object(u["jb"])({url:this.specInfo.website}).then((function(a){var t;e.specInfo.screenShotUrl=a.imgUrl,(t=e.specInfo.tags).push.apply(t,Object(s["a"])(a.elements))})).catch((function(a){e.$message.error(a)}))},submitBaseInfo:function(){var e=this;this.landingPagesModelValidate(),this.baseInfo.landingPages.model.error||("0"==this.baseInfo.jt.model?(this.convertNameValidate("baseInfo"),this.convertTypesValidate("baseInfo"),this.baseInfo.convertTypes.model.error||this.baseInfo.convertName.error||Object(u["i"])({mode:this.baseInfo.jt.model,conversionName:this.baseInfo.convertName.value,conversionType:this.baseInfo.convertTypes.model.value,landingPageId:this.baseInfo.landingPages.model.value}).then((function(a){e.baseInfo.completed=!0,e.baseInfo.eid=a}))):(this.baseInfo.completed=!0,this.specInfo.website=this.baseInfo.landingPages.list.find((function(a){return a.id==e.baseInfo.landingPages.model.value})).url,this.sreenShot()))},submitSpecInfo:function(){var e=this;if(this.convertNameValidate("specInfo"),this.convertTypesValidate("specInfo"),!this.specInfo.convertTypes.model.error&&!this.specInfo.convertName.error){if(this.specInfo.flags.length<=0)return void this.$message.warning("请圈选元素");Object(u["i"])({mode:this.baseInfo.jt.model,conversionName:this.specInfo.convertName.value,conversionType:this.specInfo.convertTypes.model.value,landingPageId:this.baseInfo.landingPages.model.value,elementUrls:this.specInfo.flags.map((function(e){return e.xpath})).join(";")}).then((function(a){e.$message.success("保存成功"),e.specInfo.xpathSaveCompleted=!0,e.baseInfo.eid=a}))}},eMDownloadJS:function(){Object(u["l"])({id:this.baseInfo.eid,js:this.jsText,cjs:"1"!=this.baseInfo.convertTypes.model.value&&"0"==this.baseInfo.jt.model?this.cjsText:""})},convertTypesChange:function(e){var a=this;this[e].convertTypes.model.label=this[e].convertTypes.list.find((function(t){return t.value==a[e].convertTypes.model.value})).label,this.convertTypesValidate(e)},delXpathItem:function(e){var a=this.specInfo.flags.findIndex((function(a){return a.xpath==e}));a>-1&&this.specInfo.flags.splice(a,1)},xpathGoback:function(){this.baseInfo.completed=!1,Object.assign(this.specInfo.convertName,{value:"",error:""}),Object.assign(this.specInfo.convertTypes.model,{value:"",label:"",error:""}),Object.assign(this.specInfo,{website:"",screenShotUrl:"",flags:[],tags:[],xpathSaveCompleted:!1})}},mounted:function(){var e=this;Object(u["w"])().then((function(a){var t;e.baseInfo.landingPages.list.length=0,e.baseInfo.landingPages.model.value=null,(t=e.baseInfo.landingPages.list).push.apply(t,Object(s["a"])(a))}))}},y=I,w=(t("b173"),t("798d"),Object(v["a"])(y,n,l,!1,null,"6c3b7459",null));a["default"]=w.exports},b173:function(e,a,t){"use strict";var n=t("db2a"),l=t.n(n);l.a},db2a:function(e,a,t){},e9ea:function(e,a,t){"use strict";var n=t("f3a1"),l=t.n(n);l.a},f3a1:function(e,a,t){}}]);