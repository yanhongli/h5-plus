(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cea2db86"],{"738c":function(e,t,a){},cca8:function(e,t,a){"use strict";var l=a("738c"),i=a.n(l);i.a},cd61:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("el-card",[a("el-row",{staticClass:"gray f-12"},[e._v("\n      页面质量评分帮您检测指定地址中页面在不同网络环境中的可访问性，并给出可访问性计分与改善建议。\n      "),a("br"),a("br"),e._v("-高分值：表示该页面用户访问时，流畅度体验度更佳，可以带来更高的转化率。\n      "),a("br"),a("br"),e._v("-较低分值：您可以根据页面给出的改善建议，优化您的页面以便提高分值。\n      "),a("br"),a("br")]),a("el-row",{staticClass:"inputs",attrs:{type:"flex"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.openNewTaskDialog()}}},[a("span",[e._v("+")]),e._v("\n        新建检测任务\n      ")])],1),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadings,expression:"loadings"}],attrs:{data:e.tableList.rows}},[e._l(e.tableList.columns,(function(t){return a("el-table-column",{key:t.id,attrs:{prop:t.id,label:t.name,width:t.width},scopedSlots:e._u([{key:"default",fn:function(l){return["score"==l.column.property?[e._v(e._s("已完成"===l.row["statusStr"]?l.row.score:"--"))]:[a("span",{staticClass:"text-ellipsis",attrs:{title:l.row[t.id]}},[e._v(e._s(l.row[t.id]))])]]}}],null,!0)})})),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"op-link-group"},["已完成"===t.row["statusStr"]?a("router-link",{attrs:{to:"/performance/task/"+t.row.id}},[a("span",{staticClass:"op-link"},[e._v("查看")])]):a("span",{staticClass:"op-link disabled"},[e._v("查看")]),a("a",{staticClass:"op-link",on:{click:function(a){return e.openListItemDialog(t.row)}}},[e._v("删除")])],1)]}}])},[a("template",{slot:"header"},[e._v("操作")])],2)],2),a("div",{staticClass:"mt-20"},[a("el-pagination",{attrs:{"page-sizes":[10,20,50,100],"page-size":e.tableList.page.size,"current-page":e.tableList.page.current,layout:"total, sizes, jumper,pager",total:e.tableList.page.total},on:{"size-change":function(t){return e.getTableData(!0)},"current-change":function(t){return e.getTableData(!1)},"update:pageSize":function(t){return e.$set(e.tableList.page,"size",t)},"update:page-size":function(t){return e.$set(e.tableList.page,"size",t)},"update:currentPage":function(t){return e.$set(e.tableList.page,"current",t)},"update:current-page":function(t){return e.$set(e.tableList.page,"current",t)}}})],1)],1)],1),a("el-dialog",{attrs:{width:"30%",visible:e.newTaskDialog.visible,center:"",title:"新建检测任务","custom-class":"mw-600"},on:{"update:visible":function(t){return e.$set(e.newTaskDialog,"visible",t)}}},[a("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{attrs:{span:5}},[a("label",[e._v("落地页地址：")])]),a("el-col",[a("el-input",{staticClass:"input-show-count",attrs:{placeholder:"请输入落地页地址",size:"small",maxlength:"2048"},on:{blur:function(t){return e.pageUrlBlur()}},model:{value:e.newTaskDialog.pageUrl.model,callback:function(t){e.$set(e.newTaskDialog.pageUrl,"model",t)},expression:"newTaskDialog.pageUrl.model"}}),a("div",{staticClass:"validate-text"},[e._v(e._s(e.newTaskDialog.pageUrl.error))])],1)],1),a("el-row",{staticClass:"mt-20",attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{attrs:{span:5}},[a("label",[e._v("任务名称：")])]),a("el-col",[a("el-input",{staticClass:"input-show-count",attrs:{placeholder:"仅用于管理后续的快速查找，可不填",size:"small",maxlength:"50"},model:{value:e.newTaskDialog.pageName.model,callback:function(t){e.$set(e.newTaskDialog.pageName,"model",t)},expression:"newTaskDialog.pageName.model"}})],1)],1),a("el-row",{staticClass:"mt-20",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:5}},[a("label",[e._v("网络环境：")])]),a("el-col",[a("el-radio-group",{attrs:{size:"small"},on:{change:function(t){return e.netChange()}},model:{value:e.newTaskDialog.net.model,callback:function(t){e.$set(e.newTaskDialog.net,"model",t)},expression:"newTaskDialog.net.model"}},e._l(e.newTaskDialog.net.list,(function(t){return a("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1),a("div",{staticClass:"validate-text"},[e._v(e._s(e.newTaskDialog.net.error))])],1)],1),a("el-row",{staticClass:"mt-20",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:5}},[a("label",[e._v("操作系统：")])]),a("el-col",[a("el-radio-group",{attrs:{size:"small"},on:{change:function(t){return e.osChange()}},model:{value:e.newTaskDialog.os.model,callback:function(t){e.$set(e.newTaskDialog.os,"model",t)},expression:"newTaskDialog.os.model"}},e._l(e.newTaskDialog.os.list,(function(t){return a("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1),a("div",{staticClass:"validate-text"},[e._v(e._s(e.newTaskDialog.os.error))])],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-n-width mr-20",on:{click:function(t){e.newTaskDialog.visible=!1}}},[e._v("取 消")]),a("el-button",{staticClass:"btn-n-width",attrs:{type:"primary"},on:{click:function(t){return e.newTaskSave()}}},[e._v("保 存")])],1)],1),a("el-dialog",{attrs:{width:"30%",visible:e.listItemDialog.visible,center:"",title:"删除检测任务"},on:{"update:visible":function(t){return e.$set(e.listItemDialog,"visible",t)}}},[a("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("span",{staticClass:"body-warning"}),a("span",[e._v("确定删除此任务?")])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"mr-30",on:{click:function(t){e.listItemDialog.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.listItemDialogOk()}}},[e._v("确 定")])],1)],1)],1)},i=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("75fc")),s=a("bd86");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(){return[{id:"url",name:"页面地址",width:180},{id:"name",name:"任务名称"},{id:"typeStr",name:"落地页类型"},{id:"netEnv",name:"模拟网络"},{id:"os",name:"模拟平台"},{id:"statusStr",name:"状态"},{id:"score",name:"分值"},{id:"createTime",name:"提交时间",width:200}]}function u(){return{page:{size:10,current:1,total:0}}}function g(e){return{loading:!1,tableList:o({columns:c(),rows:[]},u()),newTaskDialog:{visible:!1,reset:function(){for(var e=["pageUrl","pageName","os","net"],t=0,a=e;t<a.length;t++){var l=a[t];this[l].model="",this[l].error=""}},validate:function(){for(var e=["pageUrl","os","net"],t=!0,a=0,l=e;a<l.length;a++){var i=l[a];this[i].validate()||(t=!1)}return t},pageUrl:{model:"",error:"",validate:function(){return this.model.length<=0?(this.error="请填写落地页地址",!1):/^(https?:)?\/\/(\w+\.){1,}\w+/.test(this.model)?(this.error="",!0):(this.error="请填写正确的URL格式",!1)}},pageName:{model:"",error:""},os:{model:"",error:"",validate:function(){return""===this.model?(this.error="请选择模拟平台",!1):(this.error="",!0)},list:[{label:"iOS",value:"iOS"},{label:"Android",value:"Android"}]},net:{model:"",error:"",validate:function(){return""===this.model?(this.error="请选择模拟网络环境",!1):(this.error="",!0)},list:[{label:"3G",value:"3G"},{label:"4G",value:"4G"},{label:"WIFI",value:"WIFI"}]}},listItemDialog:{visible:!1,model:null}}}var p=a("23ae");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={data:function(){return b({},g())},methods:{getTableData:function(e){var t=this;this.loading=!0,e&&(this.tableList.page.current=1),Object(p["D"])({current:this.tableList.page.current,limit:this.tableList.page.size}).then((function(e){var a;t.tableList.page.total=e.total,t.tableList.rows.length=0,(a=t.tableList.rows).push.apply(a,Object(n["a"])(e.list))})).finally((function(e){t.loading=!1}))},pageUrlBlur:function(){this.newTaskDialog.pageUrl.validate()},netChange:function(){this.newTaskDialog.net.validate()},osChange:function(){this.newTaskDialog.os.validate()},openNewTaskDialog:function(){this.newTaskDialog.visible=!0,this.newTaskDialog.reset()},newTaskSave:function(){var e=this;if(this.newTaskDialog.validate()){var t=this.newTaskDialog;this.newTaskDialog.visible=!1,Object(p["A"])({url:t.pageUrl.model,name:t.pageName.model,os:t.os.model,netEnv:t.net.model}).then((function(t){e.getTableData(!0),e.$message.success("创建成功")})).catch((function(t){e.$message.error(t)}))}},openListItemDialog:function(e){this.listItemDialog.visible=!0,this.listItemDialog.model=e},listItemDialogOk:function(){var e=this;this.listItemDialog.visible=!1,console.log(this.listItemDialog.model.id),Object(p["B"])({id:this.listItemDialog.model.id}).then((function(t){e.getTableData(!0),e.$message.success("删除成功")})).catch((function(t){e.$message.error(t)}))}},created:function(){this.getTableData(!0)}},f=m,v=(a("cca8"),a("2877")),w=Object(v["a"])(f,l,i,!1,null,"d23ccfc0",null);t["default"]=w.exports}}]);