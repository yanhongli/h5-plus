(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7254f265"],{"08df":function(t,e,n){},"29f5":function(t,e,n){"use strict";var r=n("08df"),s=n.n(r);s.a},"3b2b":function(t,e,n){var r=n("7726"),s=n("5dbc"),a=n("86cc").f,o=n("9093").f,l=n("aae3"),i=n("0bfb"),c=r.RegExp,u=c,d=c.prototype,p=/a/g,v=/a/g,f=new c(p)!==p;if(n("9e1e")&&(!f||n("79e5")((function(){return v[n("2b4c")("match")]=!1,c(p)!=p||c(v)==v||"/a/i"!=c(p,"i")})))){c=function(t,e){var n=this instanceof c,r=l(t),a=void 0===e;return!n&&r&&t.constructor===c&&a?t:s(f?new u(r&&!a?t.source:t,e):u((r=t instanceof c)?t.source:t,r&&a?i.call(t):e),n?this:d,c)};for(var m=function(t){t in c||a(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},b=o(u),w=0;b.length>w;)m(b[w++]);d.constructor=c,c.prototype=d,n("2aba")(r,"RegExp",c)}n("7a56")("RegExp")},"6d96":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{staticClass:"page",attrs:{type:"flex",justify:"center",align:"middle"}},[n("el-card",{staticClass:"card"},[n("el-steps",{attrs:{active:t.steps.model,"finish-status":"success","align-center":""}},t._l(t.steps.list,(function(t){return n("el-step",{key:t,attrs:{title:t}})})),1),0==t.steps.model?n("section",{staticClass:"step-content"},[n("div",{staticClass:"c-row"},[n("el-row",{attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("label",{staticClass:"label"},[t._v("用户名：")])]),n("el-col",[n("el-input",{on:{blur:function(e){return t.accountValidate()}},model:{value:t.stepsContent[0].account.value,callback:function(e){t.$set(t.stepsContent[0].account,"value",e)},expression:"stepsContent[0].account.value"}}),n("div",{staticClass:"validate-text"},[t._v(t._s(t.stepsContent[0].account.error))])],1)],1)],1),n("div",{staticClass:"c-row"},[n("el-row",{attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("label",{staticClass:"label"},[t._v("联系邮箱：")])]),n("el-col",[n("el-input",{on:{blur:function(e){return t.emailValidate()}},model:{value:t.stepsContent[0].email.value,callback:function(e){t.$set(t.stepsContent[0].email,"value",e)},expression:"stepsContent[0].email.value"}}),n("div",{staticClass:"validate-text"},[t._v(t._s(t.stepsContent[0].email.error))])],1)],1)],1),n("div",{staticClass:"c-row"},[n("el-row",{attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("label",{staticClass:"label"},[t._v("验证码：")])]),n("el-col",[n("el-row",{attrs:{type:"flex"}},[n("el-col",[n("el-input",{attrs:{placeholder:"6位验证码",maxlength:"6"},on:{blur:function(e){return t.vscodeValidate()}},model:{value:t.stepsContent[0].vscode.value,callback:function(e){t.$set(t.stepsContent[0].vscode,"value",e)},expression:"stepsContent[0].vscode.value"}}),n("div",{staticClass:"validate-text"},[t._v(t._s(t.stepsContent[0].vscode.error))])],1),n("el-button",{staticStyle:{"margin-left":"15px"},attrs:{disabled:t.stepsContent[0].timer.count>0},on:{click:function(e){return t.obtainVscode()}}},[t._v("\n                  "+t._s(-1==t.stepsContent[0].timer.count?"获取验证码":0==t.stepsContent[0].timer.count?"重新获取":"重新获取"+t.stepsContent[0].timer.count+"s")+"\n                ")])],1)],1)],1)],1),n("div",{staticClass:"c-row"},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.emailBackNext()}}},[t._v("下一步")])],1)]):t._e(),1==t.steps.model?n("section",{staticClass:"step-content"},[n("div",{staticClass:"c-row"},[n("el-row",{attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("label",{staticClass:"label"},[t._v("新密码：")])]),n("el-col",[n("el-input",{attrs:{type:"password"},on:{blur:function(e){return t.pwdValidate()}},model:{value:t.stepsContent[1].pwd.value,callback:function(e){t.$set(t.stepsContent[1].pwd,"value",e)},expression:"stepsContent[1].pwd.value"}}),n("div",{staticClass:"validate-text"},[t._v(t._s(t.stepsContent[1].pwd.error))])],1)],1)],1),n("div",{staticClass:"c-row"},[n("el-row",{attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("label",{staticClass:"label"},[t._v("确认密码：")])]),n("el-col",[n("el-input",{attrs:{type:"password"},on:{blur:function(e){return t.cpwdValidate()}},model:{value:t.stepsContent[1].cpwd.value,callback:function(e){t.$set(t.stepsContent[1].cpwd,"value",e)},expression:"stepsContent[1].cpwd.value"}}),n("div",{staticClass:"validate-text"},[t._v(t._s(t.stepsContent[1].cpwd.error))])],1)],1)],1),n("div",{staticClass:"c-row"},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.resetPwdNext()}}},[t._v("下一步")])],1)]):t._e(),2==t.steps.model?n("section",{staticClass:"step-content"},[n("div",{staticClass:"c-row"},[t._v("恭喜您，密码重置成功")]),n("div",{staticClass:"c-row"},[t._v(t._s(t.stepsContent[2].timer.count)+"秒后自动跳转到登录页面")]),n("div",{staticClass:"c-row"},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.goToLogin()}}},[t._v("立即登录")])],1)]):t._e()],1)],1)],1)},s=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("768b")),o=n("bd86"),l=n("f954"),i=n("d3f8"),c=n("23ae");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={data:function(){return d({},Object(l["c"])())},methods:{accountValidate:function(){if("0"==this.stepsContent[0].platform.model)return!0;var t=this.stepsContent[0].account;return t.value.length<=0?t.error="不能为空":t.error="",!t.error},emailValidate:function(){var t=this.stepsContent[0].email;return t.value.length<=0?t.error="不能为空":l["b"].test(t.value)?t.error="":t.error="请填写有效的邮箱格式",!t.error},vscodeValidate:function(){var t=this.stepsContent[0].vscode;return t.value.length<=0?t.error="不能为空":t.error="",!t.error},next:function(){this.steps.model++,2==this.steps.model&&this.autoToLogin()},emailBackNext:function(){var t=this;if(this.emailValidate()&&this.vscodeValidate()){var e=Object(a["a"])(this.stepsContent,1),n=e[0];clearInterval(n.timer.id),n.timer.count=-1;var r=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["F"])({email:n.email.value,code:n.vscode.value}).then((function(){t.next()})).catch((function(e){t.$message.error(e)})).finally((function(){r.close()}))}},pwdValidate:function(){var t=this.stepsContent[1].pwd;return t.value.length<=0?t.error="不能为空":t.value.length<8||t.value.length>16?t.error="密码长度需为8~16位":l["a"].test(t.value)?t.error="":t.error="必须包含数字、字母、符号中的任意两种组合，字母区分大小写",!t.error},cpwdValidate:function(){var t=this.stepsContent[1].cpwd,e=this.stepsContent[1].pwd;return t.value.length<=0?t.error="不能为空":t.value!==e.value?t.error="确认密码需与新密码保持一致":t.error="",!t.error},resetPwdNext:function(){var t=this;if(this.pwdValidate()&&this.cpwdValidate()){var e=this.stepsContent[1].pwd,n=this.stepsContent[0];Object(c["N"])({code:n.vscode.value,account:n.account.value,email:n.email.value,source:n.getSource(),password:e.value,tenantCode:i["a"]}).then((function(){t.next()})).catch((function(e){t.$message.error(e)}))}},obtainVscode:function(){var t=this;if(this.emailValidate()){var e=Object(a["a"])(this.stepsContent,1),n=e[0];Object(c["M"])({email:n.email.value,tenantCode:i["a"],source:n.getSource(),account:n.account.value}).then((function(){t.$message.info("已发送验证码，请登录邮箱查看")})).catch((function(e){t.$message.error(e)})),n.timer.count=60,n.timer.id=setInterval((function(){n.timer.count--,n.timer.count<=0&&clearInterval(n.timer.id)}),1e3)}},autoToLogin:function(){var t=this,e=Object(a["a"])(this.stepsContent,3),n=e[2];n.timer.id=setInterval((function(){n.timer.count--,n.timer.count<=0&&t.goToLogin()}),1e3)},goToLogin:function(){clearInterval(this.stepsContent[2].timer.id),this.$router.push("/login")}}},v=p,f=(n("29f5"),n("2877")),m=Object(f["a"])(v,r,s,!1,null,"3b8dcf20",null);e["default"]=m.exports},d3f8:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));var r="215632";function s(){return{platform:{model:"3",list:[{label:"易效用户",value:"3"},{label:"H5数据分析用户",value:"0"}]},userName:{value:"",error:""},pwd:{value:"",error:""},vscode:{value:"",error:""},vscodeUrl:"",tenantCode:r,relUserId:"",way:{h5:0,pt:2,yx:3},source:{h5:2,yx:1},getSourceByWay:function(){return"0"!=this.platform.model?this.source.yx:this.source.h5},userAgreement:{value:!0,error:""},corpEmail:"@corp.netease.com"}}console.log(r)},f954:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return o}));n("3b2b");var r=n("d3f8"),s=new RegExp(/^\w+@[a-z0-9]+(\.[a-z0-9]+){1,}$/),a=(new RegExp(/^\w+@corp\.netease\.com$/i),new RegExp(/((?=.*[a-z])(?=.*\d)|(?=.*[a-z])(?=.*[#@!~%^&*])|(?=.*\d)(?=.*[#@!~%^&*]))/));function o(){var t=Object(r["b"])();return{steps:{model:0,list:["邮箱找回","重置密码","完成"]},stepsContent:[{account:{value:"",error:""},email:{value:"",error:""},vscode:{value:"",error:"",info:""},timer:{id:"",count:-1},platform:t.platform,getSource:function(){return t.getSourceByWay()}},{opwd:{value:"",error:""},pwd:{value:"",error:""},cpwd:{value:"",error:""}},{timer:{id:"",count:5}}]}}}}]);